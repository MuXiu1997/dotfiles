#!/usr/bin/env python3
import os
import subprocess

tmux = '/opt/homebrew/bin/tmux'
HotKey = 'HotKey'

has_hotkey_session = subprocess.run(
    [tmux, 'has', '-t', HotKey],
    check=False,
    stdout=subprocess.DEVNULL,
    stderr=subprocess.DEVNULL,
).returncode == 0

if has_hotkey_session:
    os.execv(tmux, [tmux, 'a', '-t', HotKey])
else:
    os.execv(tmux, [tmux, 'new', '-s', HotKey])
